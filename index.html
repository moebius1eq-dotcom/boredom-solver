<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Things to Do When You're Bored (At Night, At Home, With Friends, 2am) | BoredomSolver - 100+ Free Ideas</title>
    <meta name="description" content="Instant boredom-busting ideas! What to do when bored at night, at home, alone, or with friends. 100+ free activities, games, and challenges. Updated daily.">
    <meta name="google-site-verification" content="zJQkX047rbHp0vz_t1TouinfPO2nA1bJXkm_ofqOM4c" />
    <link rel="canonical" href="https://boredom-solver-rho.vercel.app/">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Things to Do When You're Bored - 100+ Free Ideas (Night, Home, 2am, With Friends)">
    <meta property="og:description" content="Instant boredom-busting ideas! What to do when bored at night, at home, alone, or with friends. Try our games & challenges!">
    <meta property="og:image" content="https://boredom-solver-rho.vercel.app/og.png">
    <meta property="og:url" content="https://boredom-solver-rho.vercel.app/">
    <meta property="og:site_name" content="BoredomSolver">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Things to Do When You're Bored - 100+ Free Ideas | BoredomSolver">
    <meta name="twitter:description" content="Instant boredom-busting ideas for when you're bored at night, at home, alone, or with friends!">
    <meta name="twitter:image" content="https://boredom-solver-rho.vercel.app/og.png">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --accent: #00ff88;
            --dark: #0a0a0f;
            --card-bg: #14141f;
            --card-hover: #1e1e2e;
            --light: #fff;
            --muted: #888;
        }
        body { font-family: 'Inter', sans-serif; background: var(--dark); color: var(--light); min-height: 100vh; }
        
        /* MODAL */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; align-items: center; justify-content: center; }
        .modal.show { display: flex; }
        .modal-content { background: var(--card-bg); padding: 30px; border-radius: 20px; max-width: 400px; text-align: center; border: 2px solid var(--accent); }
        .modal h3 { color: var(--accent); margin-bottom: 15px; font-size: 1.5rem; }
        .modal p { color: var(--muted); margin-bottom: 20px; line-height: 1.6; }
        .modal-btn { background: var(--accent); color: var(--dark); border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 1rem; }
        .modal-btn:hover { transform: scale(1.05); }
        .modal-close { position: absolute; top: 20px; right: 20px; background: none; border: none; color: var(--muted); font-size: 2rem; cursor: pointer; }

        /* HEADER */
        .top-bar { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; background: var(--card-bg); border-bottom: 1px solid #222; }
        .logo { font-size: 1.3rem; font-weight: 800; color: var(--accent); }
        .nav-links { display: flex; gap: 15px; }
        .nav-links a { color: var(--muted); text-decoration: none; font-size: 0.9rem; }
        .nav-links a:hover { color: var(--accent); }
        .nav-links a.about-link { color: var(--accent); }

        /* STATS */
        .stats-bar { display: flex; justify-content: center; gap: 30px; padding: 12px; background: var(--card-bg); border-bottom: 1px solid #222; }
        .stat-item { display: flex; align-items: center; gap: 8px; }
        .stat-value { font-weight: 700; color: var(--accent); }
        .stat-label { color: var(--muted); font-size: 0.85rem; }

        /* HERO */
        .hero { padding: 40px 20px; text-align: center; background: var(--card-bg); }
        .hero h1 { font-size: 2.5rem; font-weight: 900; margin-bottom: 8px; }
        .hero .subtitle { color: var(--muted); margin-bottom: 25px; }
        .big-btn { background: var(--accent); color: var(--dark); border: none; padding: 20px 50px; font-size: 1.4rem; font-weight: 800; border-radius: 50px; cursor: pointer; transition: transform 0.2s; text-transform: uppercase; }
        .big-btn:hover { transform: scale(1.05); }

        /* CLOCK WITH ANIMATION */
        .clock-container { text-align: center; padding: 30px; margin: 20px; background: var(--card-bg); border-radius: 20px; }
        .clock-wrapper { position: relative; display: inline-block; padding: 0 60px; }
        .clock { font-size: 4rem; font-weight: 900; color: var(--accent); font-family: 'Courier New', monospace; letter-spacing: 5px; }
        .dino { 
            position: absolute; right: -10px; top: 10px; font-size: 2.5rem; 
            animation: dinoWalk 2s infinite alternate; cursor: pointer;
        }
        .mario {
            position: absolute; left: -10px; top: 10px; font-size: 2.5rem;
            animation: marioRun 1s infinite alternate; cursor: pointer;
        }
        @keyframes dinoWalk { from { transform: translateX(0); } to { transform: translateX(10px); } }
        @keyframes marioRun { from { transform: translateX(0) translateY(0); } to { transform: translateX(10px) translateY(-5px); } }
        @keyframes fight { 
            0%, 100% { transform: translateX(0); } 
            25% { transform: translateX(-5px) rotate(-5deg); } 
            75% { transform: translateX(5px) rotate(5deg); } 
        }
        .fighting .dino, .fighting .mario { animation: fight 0.3s infinite; }
        .clock-label { color: var(--muted); margin-top: 15px; font-size: 0.9rem; }
        
        /* STAY CHALLENGE */
        .stay-container { background: var(--card-bg); border-radius: 20px; padding: 30px; margin: 20px 0; text-align: center; }
        .stay-timer { font-size: 4rem; font-weight: 900; color: var(--accent); font-family: 'Courier New', monospace; }
        .stay-events { min-height: 60px; padding: 15px; background: var(--dark); border-radius: 15px; margin: 20px 0; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
        .stay-btn { background: var(--accent); color: var(--dark); border: none; padding: 15px 40px; font-size: 1.2rem; font-weight: 800; border-radius: 50px; cursor: pointer; margin: 10px; }
        .stay-btn:hover { transform: scale(1.05); }
        .stay-leaderboard { background: var(--dark); border-radius: 15px; padding: 20px; margin-top: 20px; }
        .stay-leaderboard h3 { color: var(--accent); margin-bottom: 15px; }
        .leaderboard-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #333; }
        .leaderboard-item:first-child { color: #ffd700; }
        .leaderboard-item:nth-child(2) { color: #c0c0c0; }
        .leaderboard-item:nth-child(3) { color: #cd7f32; }
        
        /* Container */
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }

        /* QUICK GRID */
        .quick-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: 12px; margin-bottom: 30px; }
        .quick-card { background: var(--card-bg); border-radius: 16px; padding: 20px 15px; text-align: center; cursor: pointer; transition: 0.2s; border: 2px solid transparent; }
        .quick-card:hover { background: var(--card-hover); border-color: var(--accent); }
        .quick-card .icon { font-size: 2rem; margin-bottom: 8px; }
        .quick-card .time { color: var(--accent); font-weight: 700; font-size: 0.8rem; }
        .quick-card .label { color: var(--light); font-weight: 600; margin-top: 5px; font-size: 0.9rem; }

        /* FILTERS */
        .filters { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 25px; }
        .filter-chip { background: var(--card-bg); border: 1px solid #333; padding: 10px 16px; border-radius: 20px; cursor: pointer; font-size: 0.85rem; transition: 0.2s; }
        .filter-chip:hover, .filter-chip.active { background: var(--accent); color: var(--dark); border-color: var(--accent); }

        /* ACTIVITIES */
        .section-title { font-size: 1.2rem; font-weight: 700; margin: 30px 0 15px; }
        .activity-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px; }
        .activity-card { background: var(--card-bg); border-radius: 16px; padding: 20px; cursor: pointer; transition: 0.2s; }
        .activity-card:hover { background: var(--card-hover); }
        .activity-card h3 { font-size: 1rem; margin-bottom: 8px; }
        .activity-card p { color: var(--muted); font-size: 0.85rem; }

        /* CHALLENGE */
        .challenge-box { background: linear-gradient(135deg, #1a1a2e, #16213e); border-radius: 20px; padding: 30px; text-align: center; margin: 30px 0; border: 1px solid #333; }
        .challenge-text { background: var(--card-bg); padding: 25px; border-radius: 15px; font-size: 1.2rem; font-weight: 600; margin: 20px 0; min-height: 60px; display: flex; align-items: center; justify-content: center; }
        .challenge-btn { background: var(--card-bg); border: 2px solid var(--accent); color: var(--accent); padding: 12px 24px; border-radius: 25px; cursor: pointer; font-weight: 600; transition: 0.2s; }
        .challenge-btn:hover { background: var(--accent); color: var(--dark); }

        /* GAMES */
        .games-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 20px; }
        .game-card { background: var(--card-bg); border-radius: 16px; padding: 25px; text-align: center; cursor: pointer; transition: 0.2s; }
        .game-card:hover { background: var(--card-hover); }
        .game-card .icon { font-size: 3rem; margin-bottom: 10px; }
        .game-card .title { font-weight: 700; }
        .game-container { background: var(--card-bg); border-radius: 20px; padding: 30px; margin-top: 20px; display: none; }
        .game-container.active { display: block; }

        /* TICTACTOE */
        .ttt-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; max-width: 250px; margin: 20px auto; }
        .ttt-cell { width: 75px; height: 75px; background: var(--dark); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; font-weight: 900; cursor: pointer; }
        .ttt-status { text-align: center; margin-bottom: 15px; font-size: 1.2rem; }

        /* QUIZ */
        .quiz-option { background: var(--dark); padding: 15px 20px; border-radius: 12px; cursor: pointer; transition: 0.2s; border: 2px solid transparent; }
        .quiz-option:hover { border-color: var(--accent); }
        
        /* MEMORY */
        .memory-card { background: var(--dark); padding: 20px; border-radius: 12px; cursor: pointer; font-size: 2rem; text-align: center; transition: 0.2s; }
        .memory-card:hover { transform: scale(1.05); }

        /* USER */
        .user-dash { background: var(--card-bg); border-radius: 20px; padding: 25px; margin: 20px 0; }
        .user-stats { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; margin-top: 20px; }
        .user-stat { text-align: center; }
        .user-stat .value { font-size: 2rem; font-weight: 900; color: var(--accent); }
        .user-stat .label { color: var(--muted); font-size: 0.85rem; }
        .login-form { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
        .login-form input { padding: 12px 20px; border-radius: 25px; border: 1px solid #333; background: var(--dark); color: white; }
        
        /* PERSONALIZATION BAR */
        .personalize-bar { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; padding: 20px; background: var(--card-bg); border-radius: 20px; margin-bottom: 25px; border: 2px solid #222; }
        .personalize-group { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
        .personalize-label { color: var(--muted); font-size: 0.9rem; font-weight: 600; }
        .personalize-btn { background: var(--dark); border: 2px solid #333; color: var(--muted); padding: 8px 14px; border-radius: 20px; cursor: pointer; font-size: 0.8rem; transition: 0.2s; }
        .personalize-btn:hover { border-color: var(--accent); color: var(--light); }
        .personalize-btn.active { background: var(--accent); border-color: var(--accent); color: var(--dark); font-weight: 700; }

        /* CONFETTI & EFFECTS */
        .confetti { position: fixed; width: 10px; height: 10px; top: -10px; z-index: 1000; animation: fall 3s linear forwards; }
        @keyframes fall { to { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
        @keyframes fall1 { to { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
        @keyframes fall2 { to { transform: translateY(100vh) rotate(360deg); opacity: 0; } }
        @keyframes fall3 { to { transform: translateY(100vh) rotate(540deg); opacity: 0; } }
        @keyframes starPop { 0% { transform: scale(0) rotate(0deg); opacity: 1; } 100% { transform: scale(1.5) rotate(180deg); opacity: 0; } }
        @keyframes bubbleUp { 0% { transform: translateY(0) scale(1); opacity: 0.8; } 100% { transform: translateY(-100vh) scale(1.5); opacity: 0; } }
        @keyframes rainDrop { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(100vh); opacity: 0; } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* FOOTER */
        footer { text-align: center; padding: 40px; color: var(--muted); font-size: 0.85rem; }
        footer a { color: var(--accent); text-decoration: none; margin: 0 10px; }

        @media (max-width: 600px) {
            .hero h1 { font-size: 1.8rem; }
            .big-btn { font-size: 1.1rem; padding: 15px 35px; }
            .nav-links { display: none; }
        }
        
        /* ACCORDION/SEO */
        .accordion { background: var(--card-bg); border-radius: 16px; margin: 30px 0; overflow: hidden; }
        .accordion-header { padding: 20px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
        .accordion-header:hover { background: var(--card-hover); }
        .accordion-title { font-weight: 700; color: var(--accent); }
        .accordion-icon { font-size: 1.2rem; transition: transform 0.3s; }
        .accordion.open .accordion-icon { transform: rotate(180deg); }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .accordion.open .accordion-content { max-height: 2000px; }
        .accordion-inner { padding: 20px; line-height: 1.8; color: var(--muted); }
        .accordion-inner h3 { color: var(--light); margin: 20px 0 10px; font-size: 1.1rem; }
        .accordion-inner h3:first-child { margin-top: 0; }
        .accordion-inner p { margin-bottom: 15px; }
        .accordion-inner a { color: var(--accent); }
    </style>
</head>
<body>
    <!-- MODAL -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <h3 id="modalTitle">Title</h3>
            <p id="modalText">Text</p>
            <button class="modal-btn" onclick="closeModal()">OK</button>
        </div>
    </div>

    <!-- HEADER -->
    <div class="top-bar">
        <div class="logo">ğŸ§© BoredomSolver</div>
        <div class="nav-links">
            <a href="about.html">About</a>
            <a href="blog.html">Blog</a>
            <a href="privacy-policy.html">Privacy</a>
            <a href="terms.html">Terms</a>
        </div>
    </div>

    <!-- STATS -->
    <div class="stats-bar">
        <div class="stat-item"><span class="stat-value" id="levelNum">1</span><span class="stat-label" id="levelTitle">Noob</span></div>
        <div class="stat-item"><span class="stat-value" id="xpNum">0</span><span class="stat-label">XP</span></div>
        <div class="stat-item"><span class="stat-value" id="streakNum">0</span><span class="stat-label">ğŸ”¥ streak</span></div>
    </div>

    <!-- HERO -->
    <div class="hero">
        <h1>You're Bored. Don't Scroll TikTok Again.</h1>
        <p class="subtitle">Press the button. I dare you. Instant ideas that actually beat boredom.</p>
        <button class="big-btn" onclick="imBored()">ğŸ˜« I'M BORED</button>
    </div>

    <!-- VISIBLE SEO CONTENT - Key keyword sections for Google -->
    <div class="container" style="padding: 20px;">
        <select id="seoDropdown" onchange="showSeoContent(this.value)" style="width: 100%; padding: 15px 20px; font-size: 1.1rem; border-radius: 15px; border: 2px solid var(--accent); background: var(--card-bg); color: var(--light); cursor: pointer; margin-bottom: 20px;">
            <option value="night">ğŸ˜´ What to Do When Bored at Night</option>
            <option value="home">ğŸ  Things to Do When Bored at Home</option>
            <option value="money">ğŸ’° What to Do When Bored and Have No Money</option>
            <option value="teen">ğŸ‘¶ What to Do When Bored as a Teenager</option>
            <option value="lateNight">ğŸŒ™ Fun Things to Do at 2am</option>
            <option value="interactive">ğŸ® Interactive Games & Challenges</option>
        </select>
        
        <div id="seoContent" style="background: var(--card-bg); border-radius: 20px; padding: 25px; min-height: 200px;">
            <h2 id="seoTitle" style="color: var(--accent); font-size: 1.6rem; margin-bottom: 15px;">ğŸ˜´ What to Do When Bored at Night</h2>
            <p id="seoText" style="color: var(--muted); line-height: 1.8;">Late night boredom hits different. When you can't sleep and need <strong>things to do at 2am</strong>, we've got you covered. Whether you're lying awake wondering <strong>what to do when you're bored at night</strong>, or looking for <strong>fun things to do at 2am</strong>, these activities don't involve scrolling Instagram until your eyes bleed. Try a Wikipedia spiral, contemplate the universe, or challenge yourself to our brain games. Nighttime is when creativity strikes - embrace the quiet.</p>
        </div>
    </div>
    
    <script>
    const seoData = {
        night: {
            title: "ğŸ˜´ What to Do When Bored at Night",
            text: "<p>Late night boredom hits different. When you can't sleep and need <strong>things to do at 2am</strong>, we've got you covered.</p><ul><li>Contemplate the universe and get mildly existential</li><li>Organize your phone photos by color (weirdly satisfying)</li><li>Write a poem so bad it's funny</li><li>Watch YouTube essay videos about random topics</li><li>Try a Wikipedia spiral - click random and see where you end up</li><li>Listen to lo-fi beats and pretend you're in a study session</li></ul>"
        },
        home: {
            title: "ğŸ  Things to Do When Bored at Home",
            text: "<p>Being stuck at home doesn't have to be boring. Here's how to kill time without leaving your couch:</p><ul><li>Stare at the clock and watch time pass (oddly hypnotic)</li><li>Sort your apps by color, then size, then regret it</li><li>Read the strangest Amazon 1-star reviews</li><li>Explore Google Maps street view places you'll never visit</li><li>Make playlists for fictional moods you don't have</li><li>Go through old photos and rate them 1-10</li></ul>"
        },
        money: {
            title: "ğŸ’° What to Do When Bored and Have No Money",
            text: "<p>Zero budget? No problem. The best boredom busters are free:</p><ul><li>Challenge yourself to not blink for 60 seconds (you'll fail)</li><li>Learn to juggle with anythingâ€”scarves, socks, your phone (carefully)</li><li>Write a text to someone but don't send it (emotional release)</li><li>Make up a new sport with invented rules</li><li>Rate every photo in your camera roll</li><li>Invent conspiracy theories about your houseplants</li></ul>"
        },
        teen: {
            title: "ğŸ‘¶ What to Do When Bored as a Teenager",
            text: "<p>Being a teenager with nothing to do is a universal experience. Here's how to survive:</p><ul><li>Scroll Reddit's most controversial posts</li><li>Create a meme about your exact current situation</li><li>Text your friends weird things and see who responds</li><li>Watch 'try not to laugh' compilations (you will fail)</li><li>Change your profile picture to something random</li><li>Deep dive into obscure Subreddits with under 100 members</li></ul>"
        },
        lateNight: {
            title: "ğŸŒ™ Fun Things to Do at 2am When You Can't Sleep",
            text: "<p>2am and wide awake? The world is your oyster (or your oyster of existential dread):</p><ul><li>Listen to lo-fi beats and pretend you're in a study session</li><li>Google 'what would happen if' questions</li><li>Watch cooking videos you'll never cook</li><li>Think about your hypothetical other life in another country</li><li>Look up at the ceiling and name the stains</li><li>Let Spotify's autoplay take you on a musical journey</li></ul>"
        },
        interactive: {
            title: "ğŸ® Interactive Boredom Busters",
            text: "<p>Want more than just ideas? BoredomSolver has built-in games and challenges:</p><ul><li>Press the big 'I'm Bored' button for instant random activities</li><li>Try the Stay Challengeâ€”see how long you can last on the site</li><li>Play Tic-Tac-Toe against our bot</li><li>Take the 15-second Brain Sprint challenge</li><li>Play Memory Match and test your brain</li><li>Accept daily chaos challenges</li></ul>"
        }
    };
    
    function showSeoContent(key) {
        document.getElementById('seoTitle').textContent = seoData[key].title;
        document.getElementById('seoText').innerHTML = seoData[key].text;
    }
    </script>

    <!-- PERSONALIZATION -->
    <div class="container">
        <div class="personalize-bar">
            <div class="personalize-group">
                <span class="personalize-label">Energy:</span>
                <button class="personalize-btn active" onclick="setEnergy('low')" data-energy="low">ğŸª‘ Low</button>
                <button class="personalize-btn" onclick="setEnergy('medium')" data-energy="medium">ğŸš¶ Medium</button>
                <button class="personalize-btn" onclick="setEnergy('high')" data-energy="high">ğŸƒ High</button>
            </div>
            <div class="personalize-group">
                <span class="personalize-label">With:</span>
                <button class="personalize-btn active" onclick="setCompany('alone')" data-company="alone">ğŸ™ˆ Alone</button>
                <button class="personalize-btn" onclick="setCompany('friends')" data-company="friends">ğŸ‘¯ Friends</button>
            </div>
            <div class="personalize-group">
                <span class="personalize-label">Vibe:</span>
                <button class="personalize-btn active" onclick="setVibe('chill')" data-vibe="chill">ğŸ˜Œ Chill</button>
                <button class="personalize-btn" onclick="setVibe('chaotic')" data-vibe="chaotic">ğŸŒ€ Chaotic</button>
                <button class="personalize-btn" onclick="setVibe('productive')" data-vibe="productive">ğŸ’ª Productive</button>
            </div>
        </div>
    </div>

    <!-- CLOCK WITH DINO AND MARIO -->
    <div class="container">
        <div class="clock-container">
            <div class="clock-wrapper" id="clockWrapper">
                <div class="mario" onclick="marioClick()">ğŸ„</div>
                <div class="clock" id="clock">00:00:00</div>
                <div class="dino" onclick="dinoClick()">ğŸ¦–</div>
            </div>
            <div class="clock-label">ğŸ„ Click Mario &nbsp;|&nbsp; ğŸ¦– Click Dino</div>
        </div>
    </div>

    <!-- QUICK OPTIONS -->
    <div class="container">
        <div class="quick-grid">
            <div class="quick-card" onclick="getActivity(2)"><div class="icon">âš¡</div><div class="time">2 MIN</div><div class="label">Quick</div></div>
            <div class="quick-card" onclick="getActivity(10)"><div class="icon">ğŸ¯</div><div class="time">10 MIN</div><div class="label">Stay Busy</div></div>
            <div class="quick-card" onclick="getActivity(60)"><div class="icon">ğŸš€</div><div class="time">1 HOUR</div><div class="label">Deep Dive</div></div>
            <div class="quick-card" onclick="getRandom()"><div class="icon">ğŸ²</div><div class="time">SURPRISE</div><div class="label">Random</div></div>
            <div class="quick-card" onclick="getMicro()"><div class="icon">ğŸª‘</div><div class="time">NO EFFORT</div><div class="label">Chair</div></div>
            <div class="quick-card" onclick="getProductive()"><div class="icon">ğŸ’ª</div><div class="time">DO SOMETHING</div><div class="label">Productive</div></div>
        </div>

        <!-- CHALLENGE -->
        <div class="challenge-box" id="challengeBox">
            <h2>ğŸ² Random Chaos Challenge</h2>
            <div class="challenge-text" id="challengeText">ğŸ‘† hit the button below for maximum chaos...</div>
            <div class="challenge-buttons" style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                <button class="challenge-btn" onclick="newChallenge()">ğŸ² NEW CHALLENGE</button>
                <button class="challenge-btn" onclick="shareChallenge()">ğŸ“¤ Share</button>
            </div>
        </div>

        <!-- GAMES -->
        <div class="section-title">ğŸ® Waste Time Games</div>
        <div class="games-grid">
            <div class="game-card" onclick="showGame('brain')"><div class="icon">âš¡</div><div class="title">Brain 15s</div></div>
            <div class="game-card" onclick="showGame('ttt')"><div class="icon">â­•</div><div class="title">vs Bot</div></div>
            <div class="game-card" onclick="showGame('stay')"><div class="icon">ğŸ”¥</div><div class="title">Stay Challenge</div></div>
            <div class="game-card" onclick="showGame('memory')"><div class="icon">ğŸ§ </div><div class="title">Memory</div></div>
            <div class="game-card" onclick="showGame('guess')"><div class="icon">ğŸ¯</div><div class="title">Guess Number</div></div>
        </div>

        <!-- DAILY CHALLENGE -->
        <div style="background: linear-gradient(135deg, #1a1a2e, #16213e); border-radius: 20px; padding: 25px; margin: 20px 0; text-align: center; border: 2px solid #00ff88;">
            <h3 style="color: #00ff88; margin-bottom: 10px;">ğŸ“… Daily Boredom Challenge</h3>
            <p style="color: #888; margin-bottom: 15px;">ğŸ”¥ Streak: <span id="dailyStreak" style="color: #00ff88; font-weight: bold;">0</span> days</p>
            <p id="dailyText" style="font-size: 1.1rem; margin-bottom: 15px; color: #fff;">Loading...</p>
            <button id="dailyBtn" class="big-btn" style="font-size: 1rem; padding: 12px 30px;" onclick="doDailyChallenge()">âœ… Accept Challenge</button>
        </div>

        <!-- AI ROAST -->
        <div style="background: var(--card-bg); border-radius: 20px; padding: 25px; margin: 20px 0; text-align: center;">
            <h3 style="color: #ff6b35; margin-bottom: 10px;">ğŸ¤– AI Roast Your Boredom</h3>
            <p style="color: #888; margin-bottom: 15px;">Let AI roast you for being bored</p>
            <button class="big-btn" style="font-size: 1rem; padding: 12px 30px; background: #ff6b35;" onclick="getRoast()">ğŸ”¥ Get Roasted</button>
        </div>

        <div class="game-container" id="gameBrain">
            <div style="text-align: center;">
                <h3>âš¡ 15-Second Brain Sprint</h3>
                <div style="font-size: 3rem; color: var(--accent);" id="brainTimer">15</div>
                <p id="brainQuestion">Click start!</p>
                <input type="text" id="brainAnswer" placeholder="?" style="padding: 10px; font-size: 1.2rem; border-radius: 20px; border: 2px solid var(--accent); background: var(--dark); color: white; width: 100px; text-align: center;">
                <br><br>
                <button class="big-btn" style="font-size: 1rem; padding: 12px 30px;" onclick="startBrain()">â–¶ START</button>
            </div>
        </div>

        <div class="game-container" id="gameTtt">
            <div class="ttt-status" id="tttStatus">Your turn! (X)</div>
            <div class="ttt-grid">
                <div class="ttt-cell" onclick="playTtt(0)"></div>
                <div class="ttt-cell" onclick="playTtt(1)"></div>
                <div class="ttt-cell" onclick="playTtt(2)"></div>
                <div class="ttt-cell" onclick="playTtt(3)"></div>
                <div class="ttt-cell" onclick="playTtt(4)"></div>
                <div class="ttt-cell" onclick="playTtt(5)"></div>
                <div class="ttt-cell" onclick="playTtt(6)"></div>
                <div class="ttt-cell" onclick="playTtt(7)"></div>
                <div class="ttt-cell" onclick="playTtt(8)"></div>
            </div>
            <div style="text-align: center;">
                <button class="challenge-btn" onclick="resetTtt()">ğŸ”„ New Game</button>
            </div>
        </div>

        <!-- STAY CHALLENGE -->
        <div class="game-container" id="gameStay">
            <div class="stay-container">
                <h2 style="margin-bottom: 20px;">ğŸ”¥ I CHALLENGE YOU TO STAY ON THIS WEBSITE</h2>
                <p style="color: var(--muted); margin-bottom: 20px;">can u even handle being this bored?? lets see how long u can last fr fr no cap ğŸ’€</p>
                <div class="stay-timer" id="stayTimer">00:00</div>
                <div class="stay-events" id="stayEvents">ğŸ‘€ pending something to happen...</div>
                <button class="stay-btn" id="stayStartBtn" onclick="startStay()">ğŸ’€ START THE CHALLENGE</button>
                <button class="stay-btn" id="stayGiveUpBtn" onclick="giveUpStay()" style="display:none; background: #ef4444;">ğŸ’€ I CAN'T DO THIS ANYMORE</button>
                <div class="stay-leaderboard">
                    <h3>ğŸ† Top Survivors</h3>
                    <div id="leaderboardList"></div>
                </div>
            </div>
        </div>

        <!-- MEMORY GAME -->
        <div class="game-container" id="gameMemory">
            <div style="text-align: center;">
                <h3>ğŸ§  Memory Match</h3>
                <p style="color: var(--muted); margin-bottom: 15px;">Find all matching pairs!</p>
                <div style="font-size: 1.5rem; color: var(--accent); margin-bottom: 15px;">Score: <span id="memoryScore">0</span></div>
                <div id="memoryGrid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; max-width: 300px; margin: 0 auto;"></div>
                <button class="challenge-btn" onclick="initMemory()" style="margin-top: 15px;">ğŸ”„ Restart</button>
            </div>
        </div>

        <!-- GUESS NUMBER GAME -->
        <div class="game-container" id="gameGuess">
            <div style="text-align: center;">
                <h3>ğŸ¯ Guess the Number</h3>
                <p style="color: var(--muted); margin-bottom: 15px;">I'm thinking of a number 1-100</p>
                <input type="number" id="guessInput" placeholder="1-100" style="padding: 10px; font-size: 1.2rem; border-radius: 20px; border: 2px solid var(--accent); background: var(--dark); color: white; width: 100px; text-align: center;">
                <button class="challenge-btn" onclick="makeGuess()">Guess</button>
                <p id="guessResult" style="margin-top: 15px; font-size: 1.1rem;"></p>
                <p style="color: var(--muted);">Attempts: <span id="guessAttempts">0</span></p>
                <button class="challenge-btn" onclick="initGuess()" style="margin-top: 10px;">ğŸ”„ New Game</button>
            </div>
        </div>

        <!-- QUIZ -->
        <div class="section-title">ğŸ§ª Take the Boredom Quiz</div>
        <div style="background: var(--card-bg); border-radius: 20px; padding: 30px; margin: 20px 0;">
            <div id="quiz1">
                <p style="font-size: 1.2rem; margin-bottom: 15px;">1. What's the best way to cure boredom?</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Try again!'); this.style.background='#ef4444'">Scroll more</div>
                    <div class="quiz-option" onclick="showModal('âœ… Correct!','Doing something weird is the answer!'); this.style.background='#22c55e'; showQuiz(2)">Do something weird</div>
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Sleep is for later.'); this.style.background='#ef4444'">Sleep</div>
                </div>
            </div>
            <div id="quiz2" style="display:none;">
                <p style="font-size: 1.2rem; margin-bottom: 15px;">2. Boredom is...</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Not bad, just boring.'); this.style.background='#ef4444'">Bad</div>
                    <div class="quiz-option" onclick="showModal('âœ… Correct!','Boredom is an opportunity!'); this.style.background='#22c55e'; showQuiz(3)">An opportunity</div>
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','But it feels terrible sometimes.'); this.style.background='#ef4444'">Terrible</div>
                </div>
            </div>
            <div id="quiz3" style="display:none;">
                <p style="font-size: 1.2rem; margin-bottom: 15px;">3. Best quick activity?</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Thinking is too much work.'); this.style.background='#ef4444'">Think</div>
                    <div class="quiz-option" onclick="showModal('âœ… Correct!','Existing is the ultimate activity.'); this.style.background='#22c55e'; showQuiz(4)">Exist</div>
                </div>
            </div>
            <div id="quiz4" style="display:none;">
                <p style="font-size: 1.2rem; margin-bottom: 15px;">4. When bored, you should...</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Productivity is for winners.'); this.style.background='#ef4444'">Be productive</div>
                    <div class="quiz-option" onclick="showModal('âœ… Correct!','Embrace the void!'); this.style.background='#22c55e'; showQuiz(5)">Embrace nothingness</div>
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','That just leads to more boredom.'); this.style.background='#ef4444'">Do laundry</div>
                </div>
            </div>
            <div id="quiz5" style="display:none;">
                <p style="font-size: 1.2rem; margin-bottom: 15px;">5. The perfect bored moment involves...</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div class="quiz-option" onclick="showModal('âœ… Correct!','Total zen achieved.'); this.style.background='#22c55e'; showQuiz(6)">Staring at a wall</div>
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Too much effort.'); this.style.background='#ef4444'">Solving equations</div>
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Not boring enough.'); this.style.background='#ef4444'">Going for a run</div>
                </div>
            </div>
            <div id="quiz6" style="display:none;">
                <p style="font-size: 1.2rem; margin-bottom: 15px;">6. Your opinion on doing nothing?</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div class="quiz-option" onclick="showModal('âœ… Correct!','Nothing is something.'); this.style.background='#22c55e'; showQuiz(7)">It's an art form</div>
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','But you earned those XP!'); this.style.background='#ef4444'">Waste of time</div>
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Meditation is too purposeful.'); this.style.background='#ef4444'">Meditation</div>
                </div>
            </div>
            <div id="quiz7" style="display:none;">
                <p style="font-size: 1.2rem; margin-bottom: 15px;">7. Best way to spend 5 minutes?</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','You have the whole internet for that.'); this.style.background='#ef4444'">Learn a language</div>
                    <div class="quiz-option" onclick="showModal('âœ… Correct!','Maximum boredom achieved.'); this.style.background='#22c55e'; showQuiz(8)">Watch the clock tick</div>
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Too engaging.'); this.style.background='#ef4444'">Read a book</div>
                </div>
            </div>
            <div id="quiz8" style="display:none;">
                <p style="font-size: 1.2rem; margin-bottom: 15px;">8. When someone says "you're bored?"</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','Confidence is not the issue.'); this.style.background='#ef4444'">"I have plenty to do"</div>
                    <div class="quiz-option" onclick="showModal('âœ… Correct!','Own it!'); this.style.background='#22c55e'; confettiEffect(); showModal('ğŸ‰ Quiz Complete!','You are a certified boredom expert!')">"Boredom is my specialty"</div>
                    <div class="quiz-option" onclick="showModal('âŒ Wrong!','No productivity allowed here.'); this.style.background='#ef4444'">"Let me be productive"</div>
                </div>
            </div>
            <div id="quizComplete" style="display:none; text-align: center; padding: 30px;">
                <h2 style="color: var(--accent); margin-bottom: 15px;">ğŸ‰ Quiz Complete!</h2>
                <p style="color: var(--muted);">You're a certified Boredom Expert!</p>
                <button class="big-btn" style="font-size: 1rem; padding: 12px 30px; margin-top: 20px;" onclick="resetQuiz()">ğŸ”„ Try Again</button>
            </div>
        </div>

        <!-- ACTIVITIES -->
        <div class="section-title">ğŸ”¥ More Things to Do</div>
        <div class="activity-grid" id="activityGrid"></div>

        <!-- PERSONALIZATION -->
    <div class="container">
        <div class="personalize-bar">
            <div class="personalize-group">
                <span class="personalize-label">Energy:</span>
                <button class="personalize-btn active" onclick="setEnergy('low')" data-energy="low">ğŸª‘ Low</button>
                <button class="personalize-btn" onclick="setEnergy('medium')" data-energy="medium">ğŸš¶ Medium</button>
                <button class="personalize-btn" onclick="setEnergy('high')" data-energy="high">ğŸƒ High</button>
            </div>
            <div class="personalize-group">
                <span class="personalize-label">With:</span>
                <button class="personalize-btn active" onclick="setCompany('alone')" data-company="alone">ğŸ™ˆ Alone</button>
                <button class="personalize-btn" onclick="setCompany('friends')" data-company="friends">ğŸ‘¯ Friends</button>
            </div>
            <div class="personalize-group">
                <span class="personalize-label">Vibe:</span>
                <button class="personalize-btn active" onclick="setVibe('chill')" data-vibe="chill">ğŸ˜Œ Chill</button>
                <button class="personalize-btn" onclick="setVibe('chaotic')" data-vibe="chaotic">ğŸŒ€ Chaotic</button>
                <button class="personalize-btn" onclick="setVibe('productive')" data-vibe="productive">ğŸ’ª Productive</button>
            </div>
            <div class="personalize-group">
                <span class="personalize-label">Where:</span>
                <button class="personalize-btn" onclick="toggleFilter(null, 'home')">ğŸ  Home</button>
                <button class="personalize-btn" onclick="toggleFilter(null, 'phone')">ğŸ“± Phone</button>
                <button class="personalize-btn" onclick="toggleFilter(null, 'computer')">ğŸ’» Computer</button>
                <button class="personalize-btn" onclick="toggleFilter(null, 'weird')">ğŸ¤ª Weird</button>
            </div>
        </div>
    </div>

    <!-- MORE WAYS -->
    <div class="container" style="padding: 0 20px;">
        <div style="background: var(--card-bg); border-radius: 15px; padding: 15px; margin-bottom: 20px;">
            <p style="color: var(--muted); margin-bottom: 10px;"><strong>ğŸ“š More ways to be bored:</strong></p>
            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                <a href="things-to-do-when-bored-at-home.html" style="color: var(--accent);">ğŸ  Home</a>
                <a href="things-to-do-when-bored-on-phone.html" style="color: var(--accent);">ğŸ“± Phone</a>
                <a href="things-to-do-when-bored-at-night.html" style="color: var(--accent);">ğŸŒ™ Night</a>
                <a href="things-to-do-when-bored-with-friends.html" style="color: var(--accent);">ğŸ‘¯ Friends</a>
                <a href="fun-5-minute-activities.html" style="color: var(--accent);">â±ï¸ 5 Min</a>
            </div>
        </div>
    </div>

    <!-- CLOCK -->
        <div class="user-dash">
            <div id="loginForm">
                <div class="login-form">
                    <input type="text" id="usernameInput" placeholder="Your name">
                    <button class="big-btn" style="font-size: 1rem; padding: 12px 25px;" onclick="login()">Go</button>
                </div>
            </div>
            <div id="userDashboard" style="display: none;">
                <h3>Welcome, <span id="userName"></span>!</h3>
                <div class="user-stats">
                    <div class="user-stat"><div class="value" id="dashStreak">0</div><div class="label">ğŸ”¥ Streak</div></div>
                    <div class="user-stat"><div class="value" id="dashCompleted">0</div><div class="label">âœ… Done</div></div>
                    <div class="user-stat"><div class="value" id="dashXp">0</div><div class="label">â­ XP</div></div>
                    <div class="user-stat"><div class="value" id="dashLevel">1</div><div class="label">ğŸ“Š Level</div></div>
                </div>
            </div>
        </div>
    </div>

    <!-- VISITOR LOG -->
    <div style="padding: 30px 20px; max-width: 800px; margin: 0 auto;">
        <h3 style="color: #00ff88; text-align: center; margin-bottom: 20px;">Recent Visitors</h3>
        <div id="visitorLog" style="display: flex; flex-direction: column; gap: 10px;">
            <p style="color: #888; text-align: center;">Loading...</p>
        </div>
    </div>

    <footer>
        <p>Â© 2026 BoredomSolver | <a href="about.html">About</a> | <a href="privacy-policy.html">Privacy</a> | <a href="terms.html">Terms</a></p>
    </footer>

    <!-- RESULT MODAL -->
    <div class="modal" id="resultModal">
        <div class="modal-content" style="max-width: 500px; background: linear-gradient(135deg, #1a1a2e, #16213e);">
            <div id="resultContent" style="text-align: center;">
                <div id="resultEmoji" style="font-size: 4rem; margin-bottom: 10px;">ğŸ†</div>
                <h2 id="resultTitle" style="color: #00ff88; font-size: 1.8rem; margin-bottom: 10px;">You Did It!</h2>
                <p id="resultDesc" style="color: #888; font-size: 1.2rem; margin-bottom: 20px;">Description here</p>
                <div id="resultBadge" style="background: #00ff88; color: #0a0a0f; padding: 10px 20px; border-radius: 20px; font-weight: bold; display: inline-block; margin-bottom: 20px;">Badge</div>
                <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                    <button class="modal-btn" onclick="shareResult()">ğŸ“¤ Share Result</button>
                    <button class="modal-btn" onclick="copyResult()">ğŸ“‹ Copy Link</button>
                </div>
            </div>
            <button class="modal-close" onclick="closeResultModal()" style="position: absolute; top: 15px; right: 20px; background: none; border: none; color: #888; font-size: 2rem; cursor: pointer;">Ã—</button>
        </div>
    </div>

    <script>
        // VISITOR LOG
        fetch('/api/visitors')
            .then(res => res.json())
            .then(data => {
                const container = document.getElementById('visitorLog');
                if (data.visitors && data.visitors.length > 0) {
                    container.innerHTML = data.visitors.map(v => `
                        <div style="background: #14141f; padding: 15px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <span style="color: #00ff88; font-weight: bold;">${v.name}</span>
                                <span style="color: #888; margin-left: 10px;">${v.message}</span>
                            </div>
                            <span style="color: #555; font-size: 0.8rem;">${new Date(v.timestamp).toLocaleDateString()}</span>
                        </div>
                    `).join('');
                } else {
                    container.innerHTML = '<p style="color: #888; text-align: center;">No visitors yet. Be the first!</p>';
                }
            })
            .catch(() => {
                document.getElementById('visitorLog').innerHTML = '<p style="color: #888; text-align: center;">Unable to load visitors</p>';
            });

        // RESULT ENGINE
        const boredomResults = [
            { min: 0, max: 10, emoji: 'ğŸŸ', title: 'Goldfish Attention Span', desc: 'You survived {time} seconds. Your brain: mostly driftwood.', badge: 'ğŸŸ Goldfish' },
            { min: 10, max: 30, emoji: 'ğŸŒ', title: 'Snail Speed', desc: '{time} seconds! Impressive... if you\'re a snail.', badge: 'ğŸŒ Snail' },
            { min: 30, max: 60, emoji: 'ğŸ¦¥', title: 'Sloth Mode Activated', desc: '{time} seconds of pure nothing. Respect.', badge: 'ğŸ¦¥ Sloth' },
            { min: 60, max: 120, emoji: 'ğŸ§Ÿ', title: 'Zombie Energy', desc: '{time} seconds? You\'re already dead inside.', badge: 'ğŸ§Ÿ Zombie' },
            { min: 120, max: 180, emoji: 'ğŸ§ ', title: 'Brain Cell Count: 3', desc: '{time} seconds. One of those brain cells is sleeping.', badge: 'ğŸ§  Brain' },
            { min: 180, max: 300, emoji: 'ğŸ›‹ï¸', title: 'Certified Couch Potato', desc: '{time} seconds of excellence. Your couch misses you.', badge: 'ğŸ›‹ï¸ Couch' },
            { min: 300, max: 600, emoji: 'ğŸ‘‘', title: 'Boredom Royalty', desc: '{time} seconds! Bow to the void master.', badge: 'ğŸ‘‘ Void King' },
            { min: 600, max: 9999, emoji: 'ğŸŒŒ', title: 'Existential Crisis', desc: '{time} seconds... time is a lie anyway.', badge: 'ğŸŒŒ Cosmic' }
        ];
        
        const brainScores = [
            { score: 0, emoji: 'ğŸ§€', title: 'Cheese Brain', desc: 'Your brain score: {score}%. You are literally cheese.', badge: 'ğŸ§€ Cheese' },
            { score: 20, emoji: 'ğŸ¥¦', title: ' microwaved Broccoli', desc: 'Your brain score: {score}%. At least you tried.', badge: 'ğŸ¥¦ Broccoli' },
            { score: 40, emoji: 'ğŸ„', title: 'Mildly Productive Goblin', desc: 'Your brain score: {score}%. Go touch grass.', badge: 'ğŸ„ Goblin' },
            { score: 60, emoji: 'ğŸ¢', title: 'Turtle Energy', desc: 'Your brain score: {score}%. Slow and steady... to nowhere.', badge: 'ğŸ¢ Turtle' },
            { score: 80, emoji: 'ğŸ¦Š', title: 'Fox Brain', desc: 'Your brain score: {score}%. Too clever for your own good.', badge: 'ğŸ¦Š Fox' },
            { score: 100, emoji: 'ğŸ§©', title: 'Boredom Master', desc: 'Your brain score: {score}%. Congratulations on knowing nothing.', badge: 'ğŸ§© Master' }
        ];
        
        function showResult(type, value) {
            let result;
            if (type === 'time') {
                result = boredomResults.find(r => value >= r.min && value < r.max) || boredomResults[boredomResults.length - 1];
                result = { ...result, desc: result.desc.replace('{time}', value) };
            } else if (type === 'score') {
                const idx = Math.min(Math.floor(value / 20), brainScores.length - 1);
                result = { ...brainScores[idx], desc: brainScores[idx].desc.replace('{score}', value) };
            }
            
            document.getElementById('resultEmoji').textContent = result.emoji;
            document.getElementById('resultTitle').textContent = result.title;
            document.getElementById('resultDesc').textContent = result.desc;
            document.getElementById('resultBadge').textContent = result.badge;
            document.getElementById('resultModal').classList.add('show');
        }
        
        function shareResult() {
            const title = document.getElementById('resultTitle').textContent;
            const emoji = document.getElementById('resultEmoji').textContent;
            const badge = document.getElementById('resultBadge').textContent;
            navigator.clipboard.writeText(`${emoji} ${title} ${badge} ğŸ”— https://boredom-solver-rho.vercel.app`);
            showModal('ğŸ“¤ Copied!', 'Share it on social media!');
        }
        
        function copyResult() {
            const title = document.getElementById('resultTitle').textContent;
            const emoji = document.getElementById('resultEmoji').textContent;
            navigator.clipboard.writeText(`${emoji} ${title} ğŸ”— https://boredom-solver-rho.vercel.app`);
            showModal('ğŸ“‹ Copied!', 'Link copied to clipboard!');
        }
        
        function closeResultModal() {
            document.getElementById('resultModal').classList.remove('show');
        }
        
        // DAILY CHALLENGE
        const dailyChallenges = [
            "Send a voice note that just says 'hmm'",
            "Text someone 'I'm bored' then don't reply",
            "Rate your mood 1-10 with just an emoji",
            "Text someone a random word and wait",
            "Send 'ğŸ‘ï¸' to your last text",
            "Text 'improvment' (typo) to someone",
            "Send your worst selfie to a friend",
            "Text 'spoiler alert' then make up a movie spoiler",
            "Send a voice note as a robot",
            "Text 'goodnight' to someone who just woke up"
        ];
        
        let dailyDone = false;
        let dailyStreak = parseInt(localStorage.getItem('dailyStreak')) || 0;
        let lastDaily = localStorage.getItem('lastDaily');
        
        function getDailyChallenge() {
            const today = new Date().toDateString();
            const dayNum = new Date().getDate();
            const challenge = dailyChallenges[dayNum % dailyChallenges.length];
            
            const textEl = document.getElementById('dailyText');
            const btnEl = document.getElementById('dailyBtn');
            const streakEl = document.getElementById('dailyStreak');
            
            if (textEl) textEl.textContent = challenge;
            if (streakEl) streakEl.textContent = dailyStreak;
            
            if (lastDaily === today && btnEl) {
                btnEl.textContent = 'âœ… Done Today!';
                btnEl.disabled = true;
                dailyDone = true;
            }
        }
        
        function doDailyChallenge() {
            if (dailyDone) return;
            const today = new Date().toDateString();
            lastDaily = today;
            dailyStreak++;
            localStorage.setItem('dailyStreak', dailyStreak);
            localStorage.setItem('lastDaily', today);
            dailyDone = true;
            
            const btnEl = document.getElementById('dailyBtn');
            const streakEl = document.getElementById('dailyStreak');
            if (btnEl) {
                btnEl.textContent = 'âœ… Done Today!';
                btnEl.disabled = true;
            }
            if (streakEl) streakEl.textContent = dailyStreak;
            
            showResult('score', Math.min(dailyStreak * 15, 100));
        }
        
        // AI ROAST
        const roasts = [
            "Bro really said 'I'm bored' ğŸ’€ The bar is in hell.",
            "You're so bored even your shadow left.",
            "Boredom level: exists. Literally just exists.",
            "My grandma has more going on and she's napping.",
            "This person: *does nothing* *uccessfully*",
            "The void stares back. It looks bored too.",
            "Congrats! You're the main character of nothing.",
            "Touch grass? No, touch anything please."
        ];
        
        function getRoast() {
            const roast = roasts[Math.floor(Math.random() * roasts.length)];
            const score = Math.floor(Math.random() * 60 + 20);
            
            // Get badge based on score
            const brainScores = [
                { score: 0, emoji: 'ğŸ§€', title: 'Cheese Brain', badge: 'ğŸ§€ Cheese' },
                { score: 20, emoji: 'ğŸ¥¦', title: 'Microwaved Broccoli', badge: 'ğŸ¥¦ Broccoli' },
                { score: 40, emoji: 'ğŸ„', title: 'Mildly Productive Goblin', badge: 'ğŸ„ Goblin' },
                { score: 60, emoji: 'ğŸ¢', title: 'Turtle Energy', badge: 'ğŸ¢ Turtle' },
                { score: 80, emoji: 'ğŸ¦Š', title: 'Fox Brain', badge: 'ğŸ¦Š Fox' },
                { score: 100, emoji: 'ğŸ§©', title: 'Boredom Master', badge: 'ğŸ§© Master' }
            ];
            const idx = Math.min(Math.floor(score / 20), brainScores.length - 1);
            const badge = brainScores[idx];
            
            document.getElementById('resultEmoji').textContent = "ğŸ¤–";
            document.getElementById('resultTitle').textContent = "ğŸ¤– AI Roast";
            document.getElementById('resultDesc').textContent = roast;
            document.getElementById('resultBadge').textContent = badge.badge;
            document.getElementById('resultModal').classList.add('show');
        }

        // MODAL FUNCTIONS
        function showModal(title, text) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalText').textContent = text;
            document.getElementById('modal').classList.add('show');
        }
        function closeModal() {
            document.getElementById('modal').classList.remove('show');
        }

        // CLOCK
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').textContent = now.toLocaleTimeString('en-US', { hour12: false });
        }
        setInterval(updateClock, 1000);
        updateClock();

        // DINO CLICK
        function dinoClick() {
            const surprises = [
                'ğŸ¦• Roar!',
                'ğŸ¦– Rawr means I love you in dinosaur',
                'ğŸ¦• You found the secret dino!',
                'ğŸ¦– Extinct but not forgotten!',
                'ğŸ¦• T-Rex was your uncle!'
            ];
            showModal('ğŸ¦–', surprises[Math.floor(Math.random() * surprises.length)]);
            effects.bubbles();
            startFight();
        }
        
        // MARIO CLICK
        function marioClick() {
            const surprises = [
                'ğŸ„ Mamma mia!',
                'ğŸ„ It\'s-a me!',
                'ğŸ„ Let\'s-a go!',
                'ğŸ„ Wahoo!',
                'ğŸ„ Princess is in another castle!'
            ];
            showModal('ğŸ„', surprises[Math.floor(Math.random() * surprises.length)]);
            effects.confetti();
            startFight();
        }
        
        // FIGHT
        function startFight() {
            document.getElementById('clockWrapper').classList.add('fighting');
            setTimeout(() => {
                document.getElementById('clockWrapper').classList.remove('fighting');
            }, 1000);
        }
        
        // STAY CHALLENGE
        let stayRunning = false;
        let stayTime = 0;
        let stayInterval = null;
        let stayEventsInterval = null;
        
        const stayEvents = [
            "ğŸ“± Your phone is buzzing... it's not",
            "ğŸ• You suddenly want pizza",
            "ğŸ˜´ 2am energy hits different",
            "ğŸ¤” What if your cat is judging you",
            "ğŸ§  Brain: do something productive\nBody: no",
            "ğŸ˜° Did I leave the stove on? (don't have one)",
            "ğŸ• This clock is judging you",
            "ğŸ’­ Remember that thing from 2016?",
            "ğŸ˜¤ Urge to check Instagram rising...",
            "ğŸ¦— Awkward silence... in your head",
            "ğŸ¤¯ Realization: you have nothing to do",
            "ğŸ«  Melting into the couch",
            "ğŸ‘€ Watching paint dry would be more productive",
            "ğŸ’€ Time is fake anyway",
            "ğŸ˜Œ Accepting yourself as a professional procrastinator"
        ];
        
        const leaderboard = [
            {name: 'ZenMaster', time: 312},
            {name: 'VoidGazer', time: 245},
            {name: 'CouchSurfer', time: 189},
            {name: 'NothingWorker', time: 156},
            {name: 'StillnessPro', time: 124},
            {name: 'LoungeLegend', time: 98},
            {name: 'ChillKing', time: 87},
            {name: 'NapNinja', time: 76},
            {name: 'SlothExpert', time: 65},
            {name: 'QuietChamp', time: 54}
        ];
        
        // Load session scores
        let sessionScores = JSON.parse(sessionStorage.getItem('staySessionScores')) || [];
        
        function renderLeaderboard() {
            // Merge default + session scores, sort, take top 10
            const allScores = [...leaderboard, ...sessionScores].sort((a, b) => b.time - a.time).slice(0, 10);
            document.getElementById('leaderboardList').innerHTML = allScores.map((entry, i) => 
                `<div class="leaderboard-item"><span>#${i+1} ${entry.name}</span><span>${Math.floor(entry.time/60)}:${String(entry.time%60).padStart(2,'0')}</span></div>`
            ).join('');
        }
        
        function startStay() {
            stayRunning = true;
            stayTime = 0;
            document.getElementById('stayStartBtn').style.display = 'none';
            document.getElementById('stayGiveUpBtn').style.display = 'inline-block';
            document.getElementById('stayTimer').textContent = '00:00';
            
            stayInterval = setInterval(() => {
                stayTime++;
                const mins = Math.floor(stayTime / 60);
                const secs = stayTime % 60;
                document.getElementById('stayTimer').textContent = `${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`;
            }, 1000);
            
            stayEventsInterval = setInterval(() => {
                const event = stayEvents[Math.floor(Math.random() * stayEvents.length)];
                document.getElementById('stayEvents').textContent = event;
                if (Math.random() > 0.7) effects.randomEffect();
            }, 3000);
        }
        
        function giveUpStay() {
            if (!stayRunning) return;
            stayRunning = false;
            clearInterval(stayInterval);
            clearInterval(stayEventsInterval);
            
            const name = prompt('ğŸ’€ YOU SURVIVED ' + document.getElementById('stayTimer').textContent + '\n\nEnter ur name for the leaderboard:') || 'Anonymous';
            
            // Add to session scores
            sessionScores.push({name: name, time: stayTime, date: new Date().toISOString()});
            sessionStorage.setItem('staySessionScores', JSON.stringify(sessionScores));
            
            renderLeaderboard();
            
            showModal('ğŸ’€ GG', `u survived ${document.getElementById('stayTimer').textContent}! ur a certified bored king/queen ğŸ‘‘`);
            confettiEffect();
            
            document.getElementById('stayStartBtn').style.display = 'inline-block';
            document.getElementById('stayGiveUpBtn').style.display = 'none';
        }

        // ACTIVITIES - with personalization tags
        const activities = [
            { id: 1, title: "Stare at the Clock", desc: "Just watch time pass. It's oddly satisfying.", time: 5, tags: ["home", "weird", "think"], energy: "low", company: "alone", vibe: "chill" },
            { id: 2, title: "Deep Reddit Dive", desc: "Find the weirdest subreddit you can.", time: 15, tags: ["phone", "computer", "scroll"], energy: "low", company: "alone", vibe: "chaotic" },
            { id: 3, title: "Wikipedia Spiral", desc: "Open Wikipedia, click random, repeat.", time: 30, tags: ["computer", "phone", "think"], energy: "low", company: "alone", vibe: "chill" },
            { id: 4, title: "Judge Yelp Reviews", desc: "Read the funniest restaurant reviews.", time: 10, tags: ["phone", "computer", "weird"], energy: "low", company: "alone", vibe: "chaotic" },
            { id: 5, title: "Spotify Autoplay", desc: "Let the algorithm take you to strange places.", time: 30, tags: ["phone", "home"], energy: "low", company: "alone", vibe: "chill" },
            { id: 6, title: "Contemplate Space", desc: "Think about how big the universe is.", time: 10, tags: ["home", "think", "weird"], energy: "low", company: "alone", vibe: "chill" },
            { id: 7, title: "Read Comments", desc: "Sort YouTube by controversial.", time: 15, tags: ["phone", "computer", "scroll"], energy: "low", company: "alone", vibe: "chaotic" },
            { id: 8, title: "Generate Memes", desc: "Make memes about your life.", time: 10, tags: ["computer", "phone", "weird"], energy: "medium", company: "alone", vibe: "chaotic" },
            { id: 9, title: "Obscure Podcast", desc: "Find a podcast about something weird.", time: 30, tags: ["phone", "think"], energy: "low", company: "alone", vibe: "chill" },
            { id: 10, title: "Stare Out Window", desc: "Watch strangers do things.", time: 15, tags: ["home", "weird"], energy: "low", company: "alone", vibe: "chill" },
            { id: 11, title: "TikTok FYP", desc: "Just let TikTok show you things.", time: 30, tags: ["phone", "scroll"], energy: "low", company: "alone", vibe: "chaotic" },
            { id: 12, title: "Learn Useless Fact", desc: "Google something you'll never need.", time: 5, tags: ["phone", "computer", "think"], energy: "low", company: "alone", vibe: "productive" },
            { id: 13, title: "Rate Everything", desc: "Go through photos and rate them.", time: 20, tags: ["phone", "weird"], energy: "low", company: "alone", vibe: "chaotic" },
            { id: 14, title: "Discord Void", desc: "Join a random Discord and lurk.", time: 30, tags: ["computer", "scroll"], energy: "low", company: "alone", vibe: "chill" },
            { id: 15, title: "Make Lists", desc: "Make lists of things.", time: 10, tags: ["home", "think"], energy: "low", company: "alone", vibe: "productive" },
            { id: 16, title: "Internet Archaeology", desc: "Find websites from 1998.", time: 20, tags: ["computer", "weird"], energy: "medium", company: "alone", vibe: "chaotic" },
            { id: 17, title: "Reorganize Apps", desc: "Sort your apps by color.", time: 15, tags: ["phone", "weird"], energy: "medium", company: "alone", vibe: "productive" },
            { id: 18, title: "Read Fanfiction", desc: "Find the weirdest premise.", time: 30, tags: ["computer", "scroll"], energy: "low", company: "alone", vibe: "chaotic" },
            { id: 19, title: "Do a Puzzle", desc: "Find a puzzle app and solve it.", time: 30, tags: ["phone", "computer"], energy: "medium", company: "alone", vibe: "productive" },
            { id: 20, title: "Write a Haiku", desc: "Write a terrible poem about nothing.", time: 5, tags: ["home", "think"], energy: "low", company: "alone", vibe: "productive" },
            { id: 21, title: "Challenge a Friend", desc: "Send a dare to your bestie.", time: 5, tags: ["phone"], energy: "low", company: "friends", vibe: "chaotic" },
            { id: 22, title: "Play 20 Questions", desc: "Text game with a friend.", time: 15, tags: ["phone"], energy: "low", company: "friends", vibe: "chill" },
            { id: 23, title: "Photo Battle", desc: "Send each other photo challenges.", time: 20, tags: ["phone"], energy: "high", company: "friends", vibe: "chaotic" },
            { id: 24, title: "Do Nothing Together", desc: "Exist in the same call. Say nothing.", time: 30, tags: ["phone"], energy: "low", company: "friends", vibe: "chill" },
            { id: 25, title: "Text Story Chain", desc: "Write a story one text at a time.", time: 20, tags: ["phone"], energy: "medium", company: "friends", vibe: "productive" },
            { id: 26, title: "Clean Your Room", desc: "Actually organize that chaos.", time: 60, tags: ["home"], energy: "high", company: "alone", vibe: "productive" },
            { id: 27, title: "Learn One Skill", desc: "Watch a tutorial. Any skill.", time: 60, tags: ["computer", "phone"], energy: "medium", company: "alone", vibe: "productive" },
            { id: 28, title: "Stretch Break", desc: "Do some basic stretches.", time: 10, tags: ["home"], energy: "medium", company: "alone", vibe: "productive" },
            { id: 29, title: "Window Shopping", desc: "Browse Amazon without buying.", time: 20, tags: ["phone", "computer"], energy: "low", company: "alone", vibe: "chill" },
            { id: 30, title: "People Watch", desc: "Make up stories about people online.", time: 15, tags: ["home", "weird"], energy: "low", company: "alone", vibe: "chaotic" }
        ];

        // CHALLENGES - expanded list
        const challenges = [
            "Send 'ğŸ§' to the last person you texted",
            "Text someone 'I have a secret' and wait",
            "Rate your last 3 emojis 1-10",
            "Change your wallpaper to something weird for 24h",
            "Text 'ğŸ‘ï¸' to a friend",
            "Send a voice note going 'Mmmhmm'",
            "Text a joke in ALL CAPS",
            "Send the last photo in your camera roll to someone",
            "Text 'ğŸ« ' and nothing else",
            "Rate your current mood 1-10",
            "Text 'remember when we...' to someone",
            "Send 'ğŸ¥ºğŸ‘‰ğŸ‘ˆ' to your best friend",
            "Text your friend their villain name",
            "Send a voice note as a 'news reporter'",
            "Text 'I see a spider' to someone",
            "Send song lyrics matching your mood",
            "Send 'ğŸ‘€' to who you last called",
            "Text a terrible pickup line",
            "Send 'ğŸ˜´ğŸ’¤' to someone probably awake",
            "Send 'bestie' to 5 people today",
            "Text 'POV:' and finish it about your day",
            "Text 'brain go brrr' to a friend",
            "Text 'unsolicited opinion:' and give one",
            "Send your friend a random emoji and wait for their response",
            "Text 'I'm at the grocery store' to someone randomly",
            "Send the name of your favorite food to someone",
            "Text 'what if we' and finish with a silly idea",
            "Send 'ğŸ¤¡' to your best friend",
            "Text someone 'I need help' then send a meme",
            "Send 'ğŸ—¿' to 3 people",
            "Text a friend your most unpopular opinion",
            "Send 'ğŸ‘» boo' to someone",
            "Text 'I'm not mad, I'm just disappointed' to someone",
            "Send a selfie with your worst face to someone",
            "Text 'your name' as a contact for yourself and send it to someone",
            "Send 'ğŸŒ®' to someone and ask what they're thinking about",
            "Text someone 'I miss you' even if you saw them today",
            "Send a voice note saying 'this is your daily reminder'",
            "Text 'I have a theory' then make something up",
            "Send 'âœ¨' to 5 people with no context",
            "Text 'remember the time' and make up a fake memory",
            "Send a screenshot of your battery percentage to someone",
            "Text someone 'your outfit' and rate it 1-10",
            "Send 'ğŸ§¢' to someone who is definitely not lying",
            "Text 'I'm not saying I'm bored but' and finish it",
            "Send a photo of something random in your room",
            "Text 'unpopular opinion but' and share something",
            "Send 'ğŸ“¸' to someone and wait for them to ask what",
            "Text 'imagine if' and describe a wild scenario"
        ];

        // MICRO ACTIVITIES
        const microActivities = [
            "Just stare at the clock. It's right there.",
            "Think about what you want for dinner.",
            "Wonder why you're like this.",
            "Scroll TikTok for 1 minute then close it.",
            "Contemplate your life choices.",
            "Read the same sentence 5 times.",
            "Wonder what your dog is thinking.",
            "Think about buying things you don't need.",
            "Remember that thing you said 3 years ago.",
            "Think about that one person from school.",
            "Just exist. That's valid too."
        ];

        // STATE
        let user = JSON.parse(localStorage.getItem('boredomUser')) || null;
        let streak = parseInt(localStorage.getItem('boredomStreak')) || 0;
        let lastVisit = localStorage.getItem('boredomLastVisit');
        let completed = parseInt(localStorage.getItem('boredomCompleted')) || 0;
        let totalXp = parseInt(localStorage.getItem('boredomXp')) || 0;
        let activeFilters = [];
        
        // PERSONALIZATION STATE
        let userEnergy = localStorage.getItem('userEnergy') || 'low';
        let userCompany = localStorage.getItem('userCompany') || 'alone';
        let userVibe = localStorage.getItem('userVibe') || 'chill';
        
        function setEnergy(level) {
            userEnergy = level;
            localStorage.setItem('userEnergy', level);
            document.querySelectorAll('[data-energy]').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-energy="${level}"]`).classList.add('active');
            renderActivities();
        }
        
        function setCompany(company) {
            userCompany = company;
            localStorage.setItem('userCompany', company);
            document.querySelectorAll('[data-company]').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-company="${company}"]`).classList.add('active');
            renderActivities();
        }
        
        function setVibe(vibe) {
            userVibe = vibe;
            localStorage.setItem('userVibe', vibe);
            document.querySelectorAll('[data-vibe]').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-vibe="${vibe}"]`).classList.add('active');
            renderActivities();
        }
        
        // Initialize personalization buttons
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector(`[data-energy="${userEnergy}"]`)?.classList.add('active');
            document.querySelector(`[data-company="${userCompany}"]`)?.classList.add('active');
            document.querySelector(`[data-vibe="${userVibe}"]`)?.classList.add('active');
        });
        let tttBoard = ['','','','','','','','',''];
        let tttGameOver = false;
        
        // Memory Game State
        const memoryIcons = ['ğŸ®', 'ğŸ²', 'ğŸ¯', 'ğŸ¨', 'ğŸ­', 'ğŸª', 'ğŸ¢', 'ğŸ¡'];
        let memoryCards = [];
        let memoryFlipped = [];
        let memoryMatched = 0;
        
        // Guess Number Game State
        let targetNumber = Math.floor(Math.random() * 100) + 1;
        let guessAttempts = 0;
        
        // INIT
        checkStreak();
        renderActivities();
        updateDisplay();
        renderLeaderboard();
        getDailyChallenge();

        function checkStreak() {
            const today = new Date().toDateString();
            if (lastVisit && lastVisit !== today) {
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                if (lastVisit !== yesterday.toDateString()) streak = 0;
            }
        }

        function renderActivities() {
            let list = activities;
            
            // Apply personalization filters
            const energyLevels = { low: 1, medium: 2, high: 3 };
            list = list.filter(a => energyLevels[a.energy] <= energyLevels[userEnergy]);
            
            // Filter by company
            if (userCompany === 'friends') {
                // Show activities that work with friends
                list = list.filter(a => a.company === 'friends');
            }
            
            // Filter by vibe
            if (userVibe !== 'chill') {
                const vibeFiltered = list.filter(a => a.vibe === userVibe);
                if (vibeFiltered.length > 0) list = vibeFiltered;
            }
            
            // Apply category filters if any
            if (activeFilters.length > 0) {
                list = list.filter(a => activeFilters.some(f => a.tags.includes(f)));
                if (list.length === 0) list = activities;
            }
            
            list = list.sort(() => Math.random() - 0.5).slice(0, 8);
            document.getElementById('activityGrid').innerHTML = list.map(a => `
                <div class="activity-card" onclick="doActivity(${a.id})">
                    <h3>${a.title}</h3>
                    <p>${a.desc}</p>
                </div>
            `).join('');
        }

        function updateDisplay() {
            const level = Math.floor(totalXp / 100) + 1;
            const titles = [
                "Noob", "Staring Beginner", "Couch Potato", "Procrastination Student", "Zen Couch Surfer",
                "Boredom Apprentice", "Void Gazer", "Professional Lounger", "Slacker Supreme", "Nap Master",
                "Do Nothing Pro", "Enlightened Bored", "Master of Nothing", "Void Walker", "Boredom Monk",
                "Legend of Laziness", "The Unstoppable", "Quantum Procrastinator", "Time Killer", "God Tier Bored",
                "The Eternal Void"
            ];
            const title = titles[Math.min(level - 1, titles.length - 1)];
            
            document.getElementById('streakNum').textContent = streak;
            document.getElementById('xpNum').textContent = totalXp;
            document.getElementById('levelNum').textContent = level;
            document.getElementById('levelTitle').textContent = title;
            if (user) {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('userDashboard').style.display = 'block';
                document.getElementById('userName').textContent = user.name;
                document.getElementById('dashStreak').textContent = streak;
                document.getElementById('dashCompleted').textContent = completed;
                document.getElementById('dashXp').textContent = totalXp;
                document.getElementById('dashLevel').textContent = level + ' - ' + title;
            }
        }

        // ACTIVITY FUNCTIONS
        function imBored() {
            const options = [() => getActivity(2), () => getActivity(10), () => getActivity(60), () => getRandom(), () => getMicro()];
            options[Math.floor(Math.random() * options.length)]();
        }

        function getActivity(maxTime) {
            let filtered = activities.filter(a => a.time <= maxTime);
            if (filtered.length === 0) filtered = activities;
            const a = filtered[Math.floor(Math.random() * filtered.length)];
            doActivity(a.id);
        }

        function getRandom() {
            const a = activities[Math.floor(Math.random() * activities.length)];
            doActivity(a.id);
        }

        function getMicro() {
            const m = microActivities[Math.floor(Math.random() * microActivities.length)];
            showModal('ğŸª‘ ' + m, 'Go forth and do nothing.');
            updateStats();
        }

        function getProductive() {
            showModal('âš ï¸ No Productivity Here', 'This is a productivity-free zone. Go stare at the clock instead. ğŸ•');
        }

        function doActivity(id) {
            const a = activities.find(x => x.id === id);
            showModal('ğŸ¯ ' + a.title, a.desc);
            updateStats();
        }

        function updateStats() {
            const today = new Date().toDateString();
            if (lastVisit !== today) {
                streak++;
                lastVisit = today;
                localStorage.setItem('boredomStreak', streak);
                localStorage.setItem('boredomLastVisit', lastVisit);
            }
            if (user) {
                completed++;
                localStorage.setItem('boredomCompleted', completed);
            }
            totalXp += 10;
            localStorage.setItem('boredomXp', totalXp);
            updateDisplay();
            confettiEffect();
        }

        function toggleFilter(el, filter) {
            el.classList.toggle('active');
            if (activeFilters.includes(filter)) {
                activeFilters = activeFilters.filter(f => f !== filter);
            } else {
                activeFilters.push(filter);
            }
            renderActivities();
        }

        function newChallenge() {
            const c = challenges[Math.floor(Math.random() * challenges.length)];
            const box = document.getElementById('challengeBox');
            box.style.transform = 'scale(1.05)';
            box.style.transition = '0.2s';
            setTimeout(() => box.style.transform = 'scale(1)', 200);
            document.getElementById('challengeText').textContent = c;
            document.getElementById('challengeText').style.animation = 'none';
            setTimeout(() => document.getElementById('challengeText').style.animation = 'pulse 0.3s', 10);
            confettiEffect();
        }

        function shareChallenge() {
            const c = document.getElementById('challengeText').textContent;
            navigator.clipboard.writeText('ğŸ² ' + c + ' #BoredomSolver');
            showModal('ğŸ“‹ Copied!', 'Share it with someone!');
        }

        function showGame(game) {
            document.querySelectorAll('.game-container').forEach(c => c.style.display = 'none');
            const gameId = 'game' + game.charAt(0).toUpperCase() + game.slice(1);
            const gameEl = document.getElementById(gameId);
            if (gameEl) {
                gameEl.style.display = 'block';
                gameEl.scrollIntoView({ behavior: 'smooth' });
            }
            // Initialize games when opened
            if (game === 'memory') {
                console.log('Initializing memory game');
                initMemory();
            }
            if (game === 'guess') {
                console.log('Initializing guess game');
                initGuess();
            }
        }

        // BRAIN GAME
        let brainTimer;
        function startBrain() {
            let time = 15;
            document.getElementById('brainTimer').textContent = time;
            document.getElementById('brainAnswer').value = '';
            document.getElementById('brainAnswer').focus();
            
            const questions = [
                {q:"5+7",a:"12"},{q:"12-4",a:"8"},{q:"3Ã—6",a:"18"},{q:"9Ã—9",a:"81"},{q:"11+11",a:"22"},
                {q:"8Ã—7",a:"56"},{q:"15+27",a:"42"},{q:"100-37",a:"63"},{q:"6Ã—8",a:"48"},{q:"14+19",a:"33"},
                {q:"5Ã—12",a:"60"},{q:"72Ã·9",a:"8"},{q:"81Ã·9",a:"9"},{q:"11Ã—5",a:"55"},{q:"25+38",a:"63"},
                {q:"4Ã—15",a:"60"},{q:"144Ã·12",a:"12"},{q:"7Ã—13",a:"91"},{q:"22+44",a:"66"},{q:"9Ã—11",a:"99"},
                {q:"8+8+8",a:"24"},{q:"10Ã—10",a:"100"},{q:"50Ã·2",a:"25"},{q:"6+6+6+6",a:"24"},{q:"20Ã—3",a:"60"}
            ];
            const q = questions[Math.floor(Math.random() * questions.length)];
            document.getElementById('brainQuestion').textContent = q.q + ' = ?';
            window.brainAnswer = q.a;
            
            if (brainTimer) clearInterval(brainTimer);
            brainTimer = setInterval(() => {
                time--;
                document.getElementById('brainTimer').textContent = time;
                if (time <= 0) {
                    clearInterval(brainTimer);
                    showModal("â° Time's up!", 'Better luck next time!');
                }
            }, 1000);
        }

        document.getElementById('brainAnswer').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && this.value === window.brainAnswer) {
                showModal('âœ… Correct!','You\'re a math genius!');
                startBrain();
                this.value = '';
            }
        });

        // TICTACTOE - Improved bot with strategy
        function playTtt(i) {
            if (tttBoard[i] || tttGameOver) return;
            tttBoard[i] = 'X';
            document.querySelectorAll('.ttt-cell')[i].textContent = 'X';
            document.querySelectorAll('.ttt-cell')[i].style.color = '#00ff88';
            
            if (checkWinner('X')) {
                document.getElementById('tttStatus').textContent = 'ğŸ‰ You win!';
                tttGameOver = true;
                showModal('ğŸ‰ You Win!','You beat the bot! Genius!');
                confettiEffect();
                return;
            }
            if (tttBoard.every(x => x !== '')) {
                document.getElementById('tttStatus').textContent = 'ğŸ¤ Draw!';
                tttGameOver = true;
                showModal('ğŸ¤ Draw!','No winners, no losers.');
                return;
            }
            
            document.getElementById('tttStatus').textContent = 'Bot thinking...';
            
            setTimeout(() => {
                let botMove = getBestMove();
                if (botMove !== -1) {
                    tttBoard[botMove] = 'O';
                    document.querySelectorAll('.ttt-cell')[botMove].textContent = 'O';
                    document.querySelectorAll('.ttt-cell')[botMove].style.color = '#ff6b35';
                    
                    if (checkWinner('O')) {
                        document.getElementById('tttStatus').textContent = 'ğŸ¤– Bot wins!';
                        tttGameOver = true;
                        showModal('ğŸ¤– Bot Wins!','The machine triumphs.');
                        return;
                    }
                }
                if (tttBoard.every(x => x !== '')) {
                    document.getElementById('tttStatus').textContent = 'ğŸ¤ Draw!';
                    tttGameOver = true;
                    showModal('ğŸ¤ Draw!','No winners, no losers.');
                    return;
                }
                document.getElementById('tttStatus').textContent = 'Your turn! (X)';
            }, 500);
        }
        
        function getBestMove() {
            const winPatterns = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
            
            // 1. Check if bot can win
            for (let p of winPatterns) {
                let [a,b,c] = p;
                if (tttBoard[a] === 'O' && tttBoard[b] === 'O' && tttBoard[c] === '') return c;
                if (tttBoard[a] === 'O' && tttBoard[c] === 'O' && tttBoard[b] === '') return b;
                if (tttBoard[b] === 'O' && tttBoard[c] === 'O' && tttBoard[a] === '') return a;
            }
            
            // 2. Block player's winning move
            for (let p of winPatterns) {
                let [a,b,c] = p;
                if (tttBoard[a] === 'X' && tttBoard[b] === 'X' && tttBoard[c] === '') return c;
                if (tttBoard[a] === 'X' && tttBoard[c] === 'X' && tttBoard[b] === '') return b;
                if (tttBoard[b] === 'X' && tttBoard[c] === 'X' && tttBoard[a] === '') return a;
            }
            
            // 3. Take center if available
            if (tttBoard[4] === '') return 4;
            
            // 4. Take corners
            const corners = [0,2,6,8];
            const emptyCorners = corners.filter(i => tttBoard[i] === '');
            if (emptyCorners.length > 0) return emptyCorners[Math.floor(Math.random() * emptyCorners.length)];
            
            // 5. Take any available space
            let empty = tttBoard.map((x,i) => x === '' ? i : -1).filter(x => x !== -1);
            return empty.length > 0 ? empty[Math.floor(Math.random() * empty.length)] : -1;
        }

        function checkWinner(player) {
            const w = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
            return w.some(x => tttBoard[x[0]] === player && tttBoard[x[1]] === player && tttBoard[x[2]] === player);
        }

        function resetTtt() {
            tttBoard = ['','','','','','','','',''];
            tttGameOver = false;
            document.querySelectorAll('.ttt-cell').forEach(c => c.textContent = '');
            document.getElementById('tttStatus').textContent = 'Your turn! (X)';
        }

        // MEMORY GAME
        function initMemory() {
            console.log('initMemory called');
            memoryCards = [...memoryIcons, ...memoryIcons].sort(() => Math.random() - 0.5);
            memoryFlipped = [];
            memoryMatched = 0;
            document.getElementById('memoryScore').textContent = '0';
            const grid = document.getElementById('memoryGrid');
            if (!grid) {
                console.error('memoryGrid not found!');
                return;
            }
            grid.innerHTML = '';
            for (let i = 0; i < memoryCards.length; i++) {
                let card = document.createElement('div');
                card.className = 'memory-card';
                card.textContent = 'â“';
                card.style.cssText = 'background: var(--dark); padding: 20px; border-radius: 12px; cursor: pointer; font-size: 2rem; text-align: center;';
                card.onclick = function() { flipCard(i); };
                grid.appendChild(card);
            }
            console.log('Memory game initialized, cards:', memoryCards);
        }
        
        function flipCard(i) {
            if (memoryFlipped.length >= 2 || memoryFlipped.includes(i) || memoryMatched === memoryIcons.length) return;
            memoryFlipped.push(i);
            const cards = document.querySelectorAll('.memory-card');
            cards[i].textContent = memoryCards[i];
            cards[i].style.background = 'var(--card-hover)';
            
            if (memoryFlipped.length === 2) {
                const [first, second] = memoryFlipped;
                if (memoryCards[first] === memoryCards[second]) {
                    memoryMatched += 2;
                    document.getElementById('memoryScore').textContent = memoryMatched;
                    memoryFlipped = [];
                    if (memoryMatched === memoryIcons.length) {
                        showModal('ğŸ‰ Memory Master!','You found all pairs!');
                        confettiEffect();
                    }
                } else {
                    setTimeout(() => {
                        cards[first].textContent = 'â“';
                        cards[first].style.background = 'var(--dark)';
                        cards[second].textContent = 'â“';
                        cards[second].style.background = 'var(--dark)';
                        memoryFlipped = [];
                    }, 800);
                }
            }
        }

        // GUESS NUMBER GAME
        function initGuess() {
            targetNumber = Math.floor(Math.random() * 100) + 1;
            guessAttempts = 0;
            document.getElementById('guessAttempts').textContent = '0';
            document.getElementById('guessResult').textContent = '';
            document.getElementById('guessInput').value = '';
        }
        
        document.getElementById('guessInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') makeGuess();
        });
        
        function makeGuess() {
            const guess = parseInt(document.getElementById('guessInput').value);
            if (!guess || guess < 1 || guess > 100) {
                document.getElementById('guessResult').textContent = 'Enter a number 1-100!';
                document.getElementById('guessResult').style.color = '#ef4444';
                return;
            }
            guessAttempts++;
            document.getElementById('guessAttempts').textContent = guessAttempts;
            
            if (guess === targetNumber) {
                document.getElementById('guessResult').textContent = `ğŸ‰ Got it! It was ${targetNumber}!`;
                document.getElementById('guessResult').style.color = '#00ff88';
                showModal('ğŸ‰ You Win!','Found it in ' + guessAttempts + ' guesses!');
                confettiEffect();
            } else if (guess < targetNumber) {
                document.getElementById('guessResult').textContent = 'ğŸ“ˆ Too low!';
                document.getElementById('guessResult').style.color = '#f7c531';
            } else {
                document.getElementById('guessResult').textContent = 'ğŸ“‰ Too high!';
                document.getElementById('guessResult').style.color = '#f7c531';
            }
        }

        // QUIZ
        function showQuiz(n) {
            document.getElementById('quiz1').style.display = 'none';
            document.getElementById('quiz2').style.display = 'none';
            document.getElementById('quiz3').style.display = 'none';
            document.getElementById('quiz4').style.display = 'none';
            document.getElementById('quiz5').style.display = 'none';
            document.getElementById('quiz6').style.display = 'none';
            document.getElementById('quiz7').style.display = 'none';
            document.getElementById('quiz8').style.display = 'none';
            document.getElementById('quizComplete').style.display = 'none';
            if (n === 'complete') {
                document.getElementById('quizComplete').style.display = 'block';
            } else {
                document.getElementById('quiz' + n).style.display = 'block';
            }
        }
        
        function resetQuiz() {
            showQuiz(1);
        }

        // EFFECTS - Multiple options!
        function confettiEffect() { randomEffect(); }
        
        const effects = {
            confetti: () => {
                const colors = ['#00ff88', '#ff6b35', '#f7c531', '#a855f7', '#00d4aa'];
                for (let i = 0; i < 40; i++) {
                    const el = document.createElement('div');
                    el.style.cssText = `position:fixed;width:10px;height:10px;background:${colors[i%colors.length]};top:-10px;left:${Math.random()*100}vw;z-index:9999;animation:fall${Math.floor(Math.random()*3)+1}s linear forwards`;
                    document.body.appendChild(el);
                    setTimeout(() => el.remove(), 3000);
                }
            },
            fireworks: () => {
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        const colors = ['#00ff88', '#ff6b35', '#f7c531', '#a855f7'];
                        const x = Math.random() * window.innerWidth;
                        const y = Math.random() * window.innerHeight * 0.6;
                        for (let j = 0; j < 30; j++) {
                            const el = document.createElement('div');
                            el.style.cssText = `position:fixed;width:6px;height:6px;background:${colors[j%4]};border-radius:50%;left:${x}px;top:${y}px;z-index:9999;`;
                            const angle = (j / 30) * Math.PI * 2;
                            const velocity = 100 + Math.random() * 100;
                            el.animate([{transform: 'translate(0,0)', opacity: 1}, {transform: `${Math.cos(angle)*velocity}px,${Math.sin(angle)*velocity}px`, opacity: 0}], {duration: 1000, easing: 'ease-out'});
                            document.body.appendChild(el);
                            setTimeout(() => el.remove(), 1000);
                        }
                    }, i * 300);
                }
            },
            stars: () => {
                for (let i = 0; i < 50; i++) {
                    const el = document.createElement('div');
                    el.innerHTML = 'â­';
                    el.style.cssText = `position:fixed;font-size:${10+Math.random()*20}px;top:${Math.random()*100}vh;left:${Math.random()*100}vw;z-index:9999;animation:starPop 1s ease-out forwards`;
                    document.body.appendChild(el);
                    setTimeout(() => el.remove(), 1000);
                }
            },
            bubbles: () => {
                for (let i = 0; i < 20; i++) {
                    const el = document.createElement('div');
                    el.style.cssText = `position:fixed;width:${20+Math.random()*30}px;height:${20+Math.random()*30}px;background:rgba(0,255,136,0.3);border-radius:50%;bottom:-50px;left:${Math.random()*100}vw;z-index:9999;animation:bubbleUp ${3+Math.random()*2}s linear forwards`;
                    document.body.appendChild(el);
                    setTimeout(() => el.remove(), 5000);
                }
            },
            rain: () => {
                for (let i = 0; i < 50; i++) {
                    const el = document.createElement('div');
                    el.style.cssText = `position:fixed;width:2px;height:20px;background:linear-gradient(transparent,#00ff88);top:-20px;left:${Math.random()*100}vw;z-index:9999;animation:rainDrop ${0.5+Math.random()*0.5}s linear forwards`;
                    document.body.appendChild(el);
                    setTimeout(() => el.remove(), 1000);
                }
            }
        };

        // Pick random effect
        function randomEffect() {
            const keys = Object.keys(effects);
            effects[keys[Math.floor(Math.random() * keys.length)]]();
        }

        // USER
        function login() {
            const name = document.getElementById('usernameInput').value;
            if (!name) return;
            user = { name };
            localStorage.setItem('boredomUser', JSON.stringify(user));
            updateDisplay();
        }
    </script>
</body>
</html>






